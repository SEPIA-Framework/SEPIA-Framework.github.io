<div id='sepiaFW-frame-carousel' class="sepiaFW-inner-container sepiaFW-carousel">
	<div class='sepiaFW-carousel-pane-container'>
		<!-- Page 1 -->
		<div id="sepiaFW-frame-page-1" class='sepiaFW-frames-page sepiaFW-tutorial-page sepiaFW-carousel-pane'>
			<h3>Tutorial - Page 1 of 5</h3>
			<p>
			Welcome to the <a href="https://sepia-framework.github.io/" target="_blank">S.E.P.I.A.</a> app for browser, iOS and Android! :-)
			In this little tutorial you will learn the <b>basics to get started</b> with your personal assistant.
			</p><p>
			Here is an overview of the controls:
			</p>
			<div style="width:100%; text-align:center;">
				<img src="img/tutorial/controls.png" alt="SEPIA basic controls" style="max-width:75%;">
			</div>
			<p>
			Some buttons have a press-and-hold (long-press) action assigned as well like 'shortcuts' (->settings) and 'microphone' (->audio-input reset).
			</p><p>
			If you want to ask S.E.P.I.A. a question <b>just tap the mic or type in the chat field</b>, send the message and wait for your answer.
			</p><p>
			<i>Note: On some rare occasions your audio-interface might get stuck in the gray loading-mode. If that happens you can release it with a long-press on the mic itself.</i>
			</p>
			<p style="display: block; text-align: right;">
				<span data-proceed-btn>Proceed to <b>next page</b></span>
			</p>
		</div>
		<!-- Page 2 -->
		<div id="sepiaFW-frame-page-2" class='sepiaFW-frames-page sepiaFW-tutorial-page sepiaFW-carousel-pane'>
			<h3>Tutorial - Page 2 of 5</h3>
			<p>
			When you start S.E.P.I.A. the first thing you see is usually your personal start-screen a.k.a <b>'My-View'</b>.
			This view will show you <b>personal info</b> like upcoming reminders, custom buttons or recommendations based on your location and the time of day.
			You can fill this screen with results you get by chatting with S.E.P.I.A. (more about this later).
			</p>
			<div style="width:100%; text-align:center;">
				<img src="img/tutorial/swipe-views.png" alt="SEPIA swipe control" style="max-width:40%;">
			</div>
			<p>
			There are 2 more views to interact with S.E.P.I.A., the <b>chat view</b> and the <b>results view</b>. 
			You can reach them using the controls on the top or by <b>swiping from the edges</b> of the screen (similar to iOS browser navigation).
			</p>
			<p>
			If this type of navigation is a problem for you, for example because other control elements of your screen are blocking the swipe-areas, then there is another mode you can enable via the settings called <b>'Touch-bar controls'</b>.
			</p>
			<p style="display: block; text-align: right;">
				<span data-proceed-btn>Proceed to <b>next page</b></span>
			</p>
		</div>
		<!-- Page 3 -->
		<div id="sepiaFW-frame-page-3" class='sepiaFW-frames-page sepiaFW-tutorial-page sepiaFW-carousel-pane'>
			<h3>Tutorial - Page 3 of 5</h3>
			<p>
			Here you can see a typical chat with S.E.P.I.A.:
			</p><br>
			<div style="width:100%; text-align:center;">
				<img src="img/tutorial/chat-sample.png" alt="SEPIA cards sample" style="max-width:75%; padding: 8px;">
			</div><br>
			<p>
			Some answers will be given as <b>'cards'</b> directly inside the chat view. If there are multiple results like different news outlets for example they will instead be shown inside the results view for a better overview.
			</p>
			<p>
			As noted in the screenshot most of the <b>cards have a context menu that can be opened</b> by pressing the left icon. 
			This context menu can have various different buttons for example to add the card to your personal start-screen (my view), to share it with other users, to send music to one of your other devices and so on (just try it out ^^).
			</p>
			<p style="display: block; text-align: right;">
				<span data-proceed-btn>Proceed to <b>next page</b></span>
			</p>
		</div>
		<!-- Page 4 -->
		<div id="sepiaFW-frame-page-3" class='sepiaFW-frames-page sepiaFW-tutorial-page sepiaFW-carousel-pane'>
			<h3>Tutorial - Page 4 of 5</h3>
			<p>
			When you ask S.E.P.I.A. to add stuff to your to-do or shopping lists you will see a card like this:
			</p><br>
			<div style="width:100%; text-align:center;">
				<img src="img/tutorial/list-functions.png" alt="SEPIA list functions" style="max-width:75%; padding: 8px;">
			</div><br>
			<p>
			Depending on the list type each item can have <b>2-3 different states</b>. For to-do-lists tap the check-button to switch between open (no color), in-progress (yellow) and done (green).
			</p>
			<p>
			Items in your list can be moved by activating the drag & drop mode. To do this <b>press-and-hold the check-button</b>. The list item will quickly flash and become slightly transparent.
			Release the check-button and <b>then use it again to drag the item</b> around, drop it at its new position or even move it to a different list. 
			After 3s of inactivity the drag & drop mode will automatically switch off.
			</p>
			<p>
			Modifications to the list are <b>not saved automatically</b> and you can undo them simply by reloading the list. If changes are detected the <b>save-button</b> will appear in the upper-left corner.
			Press it to make all changes permanent.
			</p>
			<p style="display: block; text-align: right;">
				<span data-proceed-btn>Proceed to <b>next page</b></span>
			</p>
		</div>
		<!-- Page 5 -->
		<div id="sepiaFW-frame-page-3" class='sepiaFW-frames-page sepiaFW-tutorial-page sepiaFW-carousel-pane'>
			<h3>Tutorial - Page 5 of 5</h3>
			<p>
			There are many more things to discover in S.E.P.I.A. like chatting with users (group or private) on your server, playing audio-streams (e.g. radio music), <b>teaching your own voice-commands</b>, changing skins (the look of the app) or gamepad support to trigger actions, so be sure to check out all the menus and play around with all the buttons :-).
			A good place to start is the <b>shortcuts menu</b> on the bottom-left (<i>note: in demo-mode not all shortcuts functions might me available</i>).
			</p>
			<p><u>Always-On mode:</u></p>
			<div style="width:100%; text-align:center;">
				<img src="img/tutorial/always-on-mode.png" alt="SEPIA Avatar for always-on mode" style="max-width:200px; padding: 8px; border-radius: 10px;">
			</div>
			<p>
			The always-on mode can be <b>activated via the shortcuts menu</b> or by a double-tap on the back-button (Android only). 
			It is a special mode that shows only a very minimalistic interface and <b>prevents the screen from turning off</b> on mobile devices so that S.E.P.I.A. can keep running like a smart-speaker and wait for commands.
			</p>
			<p><u>Final steps:</u></p>
			<p><b>Please allow S.E.P.I.A. to access the microphone, show pop-ups (browser-version) and send notifications</b> so that every service can work as intended. 
			You can test it using the following buttons:
			</p><p style="display: flex; justify-content: center;">
				<button id="tutorial-test-mic">Test Mic</button>
				<button id="tutorial-test-note">Test Note</button>
				<button id="tutorial-test-popup">Test Pop-Up</button>
			</p>
			<p>
			If you are using the <b>wake-word detection</b> feature and/or your <b>own SEPIA STT server</b> please run the <b>'Microphone setup'</b> to make sure you have good recording quality.
			</p><p style="display: flex; justify-content: center;">
				<span style="border:1px solid; padding:4px;">Settings &#8594; General &#8594; Media devices</span>
			</p>
			<p>
			Before you log-in make sure you are using the <b>correct S.E.P.I.A. server</b>. You can set it in the extended log-in menu itself (press the arrow at the bottom of the box) or go to:<br>
			</p><p style="display: flex; justify-content: center;">
				<span style="border:1px solid; padding:4px;">Settings &#8594; General &#8594; Server connections</span>
			</p>
			<p>
			If you have any questions or want to learn how to install <b>your own, private, local S.E.P.I.A. server</b> please visit the <a href="https://github.com/SEPIA-Framework/sepia-docs" target="_blank">online help</a> 
			or check-out the <a href="https://medium.com/sepia-framework" target="_blank">S.E.P.I.A. Framework Blog</a>.
			</p>
			<p>Enjoy your personal assistent!</p>
		</div>
	</div>
</div>
<div id="sepiaFW-frames-nav-bar" class='sepiaFW-layer-header'>
	<button id="sepiaFW-frames-close" class='entry'>
		<i class="material-icons md-btn2">&#xE5CD;</i>
	</button>
	<button id="sepiaFW-frames-show-prev-page" class='entry'>
		<i class="material-icons md-btn2">keyboard_arrow_left</i><span data-localize="back">back</span>
	</button>
	<button id="sepiaFW-frames-show-next-page" class='entry'>
		<span data-localize="next">next</span><i class="material-icons md-btn2">keyboard_arrow_right</i>
	</button>
	<div id="sepiaFW-frames-nav-bar-page-indicator"><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div></div>
</div>
<script>
	$('#sepiaFW-frame-carousel').find('[data-localize]').each(function(){
		$(this).html(SepiaFW.local.g(this.dataset.localize));
	});

	//Define scope
	SepiaFW.frames.currentScope = {
		//Load scope (default method)
		load: function(){
			$('#sepiaFW-frame-carousel').find('[data-proceed-btn]').each(function(){
				$(this).css({"cursor":"pointer"});
				$(this).off().on('click', function(){
					SepiaFW.frames.uic.next();
				});
			});
			$('#sepiaFW-frame-carousel').find('#tutorial-test-mic').off().on('click', function(){
				if (SepiaFW.speech){
					SepiaFW.ui.showPopup('Start speaking...');
					SepiaFW.speech.toggleRecognition(
						function(msg){ SepiaFW.ui.showPopup('You said: <br>' + msg); }, 
						function(msg){ /*interrim result*/ }, 
						function(msg){ SepiaFW.ui.showPopup('Seems it did not work: <br>' + msg); }
					);
				}
			});
			$('#sepiaFW-frame-carousel').find('#tutorial-test-note').off().on('click', function(){
				//simulate 'untrusted' event
				var msg = "Hello World! This is a local (offline) notification that can be used for things like messages and alarms.";
				SepiaFW.files.fetch('credits.html', function(){
					if (SepiaFW.events) SepiaFW.events.showSimpleSilentNotification("S.E.P.I.A. says:", msg, {
						type: "entertainWhileIdle",
						data: {
							message: msg
						}
					});
				});
			});
			$('#sepiaFW-frame-carousel').find('#tutorial-test-popup').off().on('click', function(){
				//simulate 'untrusted' event
				SepiaFW.files.fetch('credits.html', function(){
					if (SepiaFW.ui.actions) SepiaFW.ui.actions.openUrlAutoTarget("https://sepia-framework.github.io", true);
				});
			});
		}
	}
	SepiaFW.frames.currentScope.load();
</script>